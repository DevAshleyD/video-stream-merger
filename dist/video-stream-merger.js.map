{"version":3,"file":"video-stream-merger.js","sources":["../src/index.js"],"sourcesContent":["/* globals window */\n\nmodule.exports = VideoStreamMerger\n\nfunction VideoStreamMerger (opts) {\n  var self = this\n  if (!(self instanceof VideoStreamMerger)) return new VideoStreamMerger(opts)\n\n  opts = opts || {}\n\n  var AudioContext = window.AudioContext || window.webkitAudioContext\n  var audioSupport = !!(AudioContext && (self._audioCtx = (opts.audioContext || new AudioContext())).createMediaStreamDestination)\n  var canvasSupport = !!document.createElement('canvas').captureStream\n  var supported = audioSupport && canvasSupport\n  if (!supported) {\n    throw new Error('Unsupported browser')\n  }\n  self.width = opts.width || 400\n  self.height = opts.height || 300\n  self.fps = opts.fps || 25\n  self.clearRect = opts.clearRect === undefined ? true : opts.clearRect\n\n  // Hidden canvas element for merging\n  self._canvas = document.createElement('canvas')\n  self._canvas.setAttribute('width', self.width)\n  self._canvas.setAttribute('height', self.height)\n  self._canvas.setAttribute('style', 'position:fixed; left: 110%; pointer-events: none') // Push off screen\n  self._ctx = self._canvas.getContext('2d')\n\n  self._streams = []\n\n  self._audioDestination = self._audioCtx.createMediaStreamDestination()\n\n  self._setupConstantNode() // HACK for wowza #7, #10\n\n  self.started = false\n  self.result = null\n\n  self._backgroundAudioHack()\n}\n\nVideoStreamMerger.prototype.getAudioContext = function () {\n  var self = this\n  return self._audioCtx\n}\n\nVideoStreamMerger.prototype.getAudioDestination = function () {\n  var self = this\n  return self._audioDestination\n}\n\nVideoStreamMerger.prototype.getCanvasContext = function () {\n  var self = this\n  return self._ctx\n}\n\nVideoStreamMerger.prototype._backgroundAudioHack = function () {\n  var self = this\n\n  // stop browser from throttling timers by playing almost-silent audio\n  var source = self._audioCtx.createConstantSource()\n  var gainNode = self._audioCtx.createGain()\n  gainNode.gain.value = 0.001 // required to prevent popping on start\n  source.connect(gainNode)\n  gainNode.connect(self._audioCtx.destination)\n  source.start()\n}\n\nVideoStreamMerger.prototype._setupConstantNode = function () {\n  var self = this\n\n  var constantAudioNode = self._audioCtx.createConstantSource()\n  constantAudioNode.start()\n\n  var gain = self._audioCtx.createGain() // gain node prevents quality drop\n  gain.gain.value = 0\n\n  constantAudioNode.connect(gain)\n  gain.connect(self._audioDestination)\n}\n\nVideoStreamMerger.prototype.updateIndex = function (mediaStream, index) {\n  var self = this\n\n  if (typeof mediaStream === 'string') {\n    mediaStream = {\n      id: mediaStream\n    }\n  }\n\n  index = index == null ? 0 : index\n\n  for (var i = 0; i < self._streams.length; i++) {\n    if (mediaStream.id === self._streams[i].id) {\n      self._streams[i].index = index\n    }\n  }\n  self._sortStreams()\n}\n\nVideoStreamMerger.prototype._sortStreams = function () {\n  var self = this\n  self._streams = self._streams.sort(function(a, b) {\n    return a.index - b.index\n  })\n}\n\n// convenience function for adding a media element\nVideoStreamMerger.prototype.addMediaElement = function (id, element, opts) {\n  var self = this\n\n  opts = opts || {}\n\n  opts.x = opts.x || 0\n  opts.y = opts.y || 0\n  opts.width = opts.width || self.width\n  opts.height = opts.height || self.height\n  opts.mute = opts.mute || opts.muted || false\n\n  opts.oldDraw = opts.draw\n  opts.oldAudioEffect = opts.audioEffect\n\n  if (element.tagName === 'VIDEO' || element.tagName === 'IMG') {\n    opts.draw = function (ctx, _, done) {\n      if (opts.oldDraw) {\n        opts.oldDraw(ctx, element, done)\n      } else {\n        ctx.drawImage(element, opts.x, opts.y, opts.width, opts.height)\n        done()\n      }\n    }\n  } else {\n    opts.draw = null\n  }\n\n  if (!opts.mute) {\n    var audioSource = element._mediaElementSource || self.getAudioContext().createMediaElementSource(element)\n    element._mediaElementSource = audioSource // can only make one source per element, so store it for later (ties the source to the element's garbage collection)\n    audioSource.connect(self.getAudioContext().destination) // play audio from original element\n\n    var gainNode = self.getAudioContext().createGain()\n    audioSource.connect(gainNode)\n    if (element.muted) {\n      // keep the element \"muted\" while having audio on the merger\n      element.muted = false\n      element.volume = 0.001\n      gainNode.gain.value = 1000\n    } else {\n      gainNode.gain.value = 1\n    }\n    opts.audioEffect = function (_, destination) {\n      if (opts.oldAudioEffect) {\n        opts.oldAudioEffect(gainNode, destination)\n      } else {\n        gainNode.connect(destination)\n      }\n    }\n    opts.oldAudioEffect = null\n  }\n\n  self.addStream(id, opts)\n}\n\nVideoStreamMerger.prototype.addStream = function (mediaStream, opts) {\n  var self = this\n\n  if (typeof mediaStream === 'string') {\n    return self._addData(mediaStream, opts)\n  }\n\n  opts = opts || {}\n  var stream = {}\n\n  stream.isData = false\n  stream.x = opts.x || 0\n  stream.y = opts.y || 0\n  stream.width = opts.width || self.width\n  stream.height = opts.height || self.height\n  stream.draw = opts.draw || null\n  stream.mute = opts.mute || opts.muted || false\n  stream.audioEffect = opts.audioEffect || null\n  stream.index = opts.index == null ? 0 : opts.index\n  stream.hasVideo = mediaStream.getVideoTracks().length > 0\n\n  // If it is the same MediaStream, we can reuse our video element (and ignore sound)\n  var videoElement = null\n  for (var i = 0; i < self._streams.length; i++) {\n    if (self._streams[i].id === mediaStream.id) {\n      videoElement = self._streams[i].element\n    }\n  }\n\n  if (!videoElement) {\n    videoElement = document.createElement('video')\n    videoElement.autoplay = true\n    videoElement.muted = true\n    videoElement.srcObject = mediaStream\n    videoElement.setAttribute('style', 'position:fixed; left: 0px; top:0px; pointer-events: none; opacity:0;')\n    document.body.appendChild(videoElement)\n\n    if (!stream.mute) {\n      stream.audioSource = self._audioCtx.createMediaStreamSource(mediaStream)\n      stream.audioOutput = self._audioCtx.createGain() // Intermediate gain node\n      stream.audioOutput.gain.value = 1\n      if (stream.audioEffect) {\n        stream.audioEffect(stream.audioSource, stream.audioOutput)\n      } else {\n        stream.audioSource.connect(stream.audioOutput) // Default is direct connect\n      }\n      stream.audioOutput.connect(self._audioDestination)\n    }\n  }\n\n  stream.element = videoElement\n  stream.id = mediaStream.id || null\n  self._streams.push(stream)\n  self._sortStreams()\n}\n\nVideoStreamMerger.prototype.removeStream = function (mediaStream) {\n  var self = this\n\n  if (typeof mediaStream === 'string') {\n    mediaStream = {\n      id: mediaStream\n    }\n  }\n\n  for (var i = 0; i < self._streams.length; i++) {\n    if (mediaStream.id === self._streams[i].id) {\n      if (self._streams[i].audioSource) {\n        self._streams[i].audioSource = null\n      }\n      if (self._streams[i].audioOutput) {\n        self._streams[i].audioOutput.disconnect(self._audioDestination)\n        self._streams[i].audioOutput = null\n      }\n\n      self._streams[i] = null\n      self._streams.splice(i, 1)\n      i--\n    }\n  }\n}\n\nVideoStreamMerger.prototype._addData = function (key, opts) {\n  var self = this\n\n  opts = opts || {}\n  var stream = {}\n\n  stream.isData = true\n  stream.draw = opts.draw || null\n  stream.audioEffect = opts.audioEffect || null\n  stream.id = key\n  stream.element = null\n  stream.index = opts.index == null ? 0 : opts.index\n\n  if (stream.audioEffect) {\n    stream.audioOutput = self._audioCtx.createGain() // Intermediate gain node\n    stream.audioOutput.gain.value = 1\n    stream.audioEffect(null, stream.audioOutput)\n    stream.audioOutput.connect(self._audioDestination)\n  }\n\n  self._streams.push(stream)\n  self._sortStreams()\n}\n\n// Wrapper around requestAnimationFrame and setTimeout to avoid background throttling\nVideoStreamMerger.prototype._requestAnimationFrame = function (callback) {\n  if (document.hidden) {\n    setTimeout(callback, 0)\n  } else {\n    requestAnimationFrame(callback)\n  }\n}\n\nVideoStreamMerger.prototype.start = function () {\n  var self = this\n\n  self.started = true\n  self._requestAnimationFrame(self._draw.bind(self))\n\n  // Add video\n  self.result = self._canvas.captureStream(self.fps)\n\n  // Remove \"dead\" audio track\n  var deadTrack = self.result.getAudioTracks()[0]\n  if (deadTrack) self.result.removeTrack(deadTrack)\n\n  // Add audio\n  var audioTracks = self._audioDestination.stream.getAudioTracks()\n  self.result.addTrack(audioTracks[0])\n}\n\nVideoStreamMerger.prototype._draw = function () {\n  var self = this\n  if (!self.started) return\n\n  var awaiting = self._streams.length\n  function done () {\n    awaiting--\n    if (awaiting <= 0) self._requestAnimationFrame(self._draw.bind(self))\n  }\n\n  if (self.clearRect) {\n    self._ctx.clearRect(0, 0, self.width, self.height)\n  }\n  self._streams.forEach(function (video) {\n    if (video.draw) { // custom frame transform\n      video.draw(self._ctx, video.element, done)\n    } else if (!video.isData && video.hasVideo) {\n      self._ctx.drawImage(video.element, video.x, video.y, video.width, video.height)\n      done()\n    } else {\n      done()\n    }\n  })\n\n  if (self._streams.length === 0) done()\n}\n\nVideoStreamMerger.prototype.destroy = function () {\n  var self = this\n\n  self.started = false\n\n  self._canvas = null\n  self._ctx = null\n  self._streams = []\n  self._audioCtx.close()\n  self._audioCtx = null\n  self._audioDestination = null\n\n  self.result.getTracks().forEach(function (t) {\n    t.stop()\n  })\n  self.result = null\n}\n\nmodule.exports = VideoStreamMerger\n"],"names":["VideoStreamMerger","opts","this","AudioContext","window","webkitAudioContext","audioSupport","_audioCtx","audioContext","createMediaStreamDestination","canvasSupport","document","createElement","captureStream","Error","width","height","fps","clearRect","undefined","_canvas","setAttribute","_ctx","getContext","_streams","_audioDestination","_setupConstantNode","started","result","_backgroundAudioHack","module","exports","prototype","getAudioContext","getAudioDestination","getCanvasContext","source","createConstantSource","gainNode","createGain","gain","value","connect","destination","start","constantAudioNode","updateIndex","mediaStream","index","id","i","length","_sortStreams","sort","a","b","addMediaElement","element","x","y","mute","muted","oldDraw","draw","oldAudioEffect","audioEffect","tagName","ctx","_","done","drawImage","audioSource","_mediaElementSource","createMediaElementSource","volume","addStream","_addData","stream","hasVideo","getVideoTracks","videoElement","autoplay","srcObject","body","appendChild","createMediaStreamSource","audioOutput","push","removeStream","disconnect","splice","key","_requestAnimationFrame","callback","hidden","setTimeout","requestAnimationFrame","_draw","bind","deadTrack","getAudioTracks","removeTrack","audioTracks","addTrack","self","awaiting","forEach","video","isData","destroy","close","getTracks","t","stop"],"mappings":"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"}